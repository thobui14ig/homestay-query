import{e as m,r as o,j as e,K as l}from"./index-d271889a.js";import{g as i}from"./comment.api-22cac7e8.js";function x(){const{socket:n}=m(),[s,a]=o.useState([]);return o.useEffect(()=>(n.emit("join-room-comment-group"),n.on("comment-group",t=>{s.find(c=>c.postId==t.postId&&c.createdAt==t.createdAt)||(s.length==30&&s.pop(),s.unshift(t),a([...s]))}),()=>{n.emit("leave-room-comment-group"),n.off("comment-group")}),[n]),o.useEffect(()=>{(async()=>{const t=await i();a(t.data)})()},[]),e.jsx("div",{className:"p-4 flex flex-col gap-4",children:s.map((t,r)=>e.jsxs("div",{className:`rounded-2xl shadow-md p-4 flex flex-col gap-2 ${r===0||r===2?"bg-cyan-100":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:t.actorName}),e.jsx("span",{className:"text-blue-600 font-bold",children:"Tiktok"})]}),e.jsx("p",{className:"text-gray-800 text-sm sm:text-base",children:t.content}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-pink-100 hover:bg-pink-200",children:"Gọi"}),e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-gray-100 hover:bg-gray-200",children:"Nhắn"}),e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-gray-100 hover:bg-gray-200",children:"Xem"}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200"})]})]},r))})}function u(){return e.jsx(l,{children:e.jsx(x,{})})}export{u as default};
