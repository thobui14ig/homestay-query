import{e as l,r as o,j as e,K as m}from"./index-099867fa.js";import{a as x}from"./comment.api-821e7b11.js";function p(){const{socket:n}=l(),[s,a]=o.useState([]);o.useEffect(()=>(n.emit("join-room-comment-group"),n.on("comment-group",t=>{s.find(c=>c.postId==t.postId&&c.createdAt==t.createdAt)||(s.length==30&&s.pop(),s.unshift(t),a([...s]))}),()=>{n.emit("leave-room-comment-group"),n.off("comment-group")}),[n]),o.useEffect(()=>{(async()=>{const t=await x();a(t.data)})()},[]);const i=(t,r)=>{window.open(`https://www.facebook.com/groups/${r}/permalink/${t}`,"_blank")};return e.jsx("div",{className:"p-4 flex flex-col gap-4",children:s.map((t,r)=>e.jsxs("div",{className:`rounded-2xl shadow-md p-4 flex flex-col gap-2 ${r===0||r===2?"bg-cyan-100":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:t.actorName}),e.jsx("span",{className:"text-blue-600 font-bold",children:"Tiktok"})]}),e.jsx("p",{className:"text-gray-800 text-sm sm:text-base",children:t.content}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-pink-100 hover:bg-pink-200",children:"Gọi"}),e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-gray-100 hover:bg-gray-200",children:"Nhắn"}),e.jsx("button",{className:"flex items-center gap-1 px-3 py-1 rounded-xl bg-gray-100 hover:bg-gray-200",onClick:()=>{i(t.postId,String(t.groupId))},children:"Xem"}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200"})]})]},r))})}function g(){return e.jsx(m,{children:e.jsx(p,{})})}export{g as default};
