import{i as g,r,j as e,Q as x,e as m,K as f}from"./index-1e77cbba.js";import{T as j,P as y,O as A,U as T,X as b,B as C,S as M,Q as S}from"./index.esm-3b54b7a8.js";import{M as k,c as P,D as R}from"./toast-b11ea2f7.js";import"./motion-867329ea.js";const w=s=>g.post("/proxies",s),B=()=>g.get("/proxies"),O=s=>g.delete(`/proxies/${s}`),D=({setIsModalOpen:s,isModalOpen:i,isReload:c,setIsReload:d})=>{const[n,o]=r.useState(""),u=async()=>{if(n.length===0){x.error("Nội dung không được trống!");return}if(n.length===0){x.error("Nội dung không được trống!");return}const l=n.split(`
`).map(t=>t.trim()).filter(t=>t.length>0).map(t=>t);try{s(!1),o("");const t=await w({proxies:l});d(!c),x(t.data.message)}catch(t){P(t)}},h=()=>u();return e.jsx(k,{title:"Add tokens",closable:{"aria-label":"Custom Close Button"},open:i,onOk:()=>h(),onCancel:()=>s(!1),children:e.jsx(j,{onChange:l=>{o(l.target.value)},rows:4})})};function E(){const{optionsReactTableDefault:s}=m(),[i,c]=r.useState(!1),[d,n]=r.useState(null),[o,u]=r.useState(!1);r.useEffect(()=>{(async()=>{const a=await B();n(a.data)})()},[o]);const h=async a=>{x("Xóa thành công!"),await O(a),u(!o)},l=r.useMemo(()=>[{header:"Value",accessorKey:"proxyAddress",Cell:a=>{const p=a.row.original.proxyAddress;return p&&p.length>50?`${(p??"").slice(0,50)}...`:p??"Trống"}},{header:"Status",accessorKey:"status"}],[]),t=y({columns:l,data:d??[],...s,enableBottomToolbar:!0,initialState:{...s.initialState},state:{isLoading:!d},renderRowActions:({row:a})=>e.jsx(A,{sx:{display:"flex",gap:"1rem"},children:e.jsx(T,{title:"Delete",children:e.jsx(b,{color:"error",onClick:()=>{h(a.original.id)},children:e.jsx(R,{})})})}),renderTopToolbarCustomActions:()=>e.jsx(C,{type:"primary",onClick:()=>{c(!0)},children:"Add"})});return e.jsxs(M,{gap:"1rem",children:[e.jsx(S,{table:t}),i&&e.jsx(D,{setIsModalOpen:c,isModalOpen:i,isReload:o,setIsReload:u})]})}function Q(){return e.jsx(f,{children:e.jsx(E,{})})}export{Q as default};
